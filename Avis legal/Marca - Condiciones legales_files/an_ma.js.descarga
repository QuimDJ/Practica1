!function e(t,i,r){function n(s,f){if(!i[s]){if(!t[s]){var a="function"==typeof require&&require;if(!f&&a)return a(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i=t[s][1][e];return n(i?i:e)},u,u.exports,e,t,i,r)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(e,t,i){"use strict"},{}],2:[function(e,t,i){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i,n){"function"==typeof define&&define.amd?define(["long"],n):"function"==typeof e&&"object"===("undefined"==typeof t?"undefined":r(t))&&t&&t.exports?t.exports=function(){var t;try{t=e("long")}catch(i){}return n(t)}():(i.dcodeIO=i.dcodeIO||{}).ByteBuffer=n(i.dcodeIO.Long)}(void 0,function(e){function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function i(){var e=[],t=[];return function(){return 0===arguments.length?t.join("")+u.apply(String,e):(e.length+arguments.length>1024&&(t.push(u.apply(String,e)),e.length=0),void Array.prototype.push.apply(e,arguments))}}function n(e,t,i,r,n){var o,s,f=8*n-r-1,a=(1<<f)-1,u=a>>1,l=-7,h=i?n-1:0,d=i?-1:1,c=e[t+h];for(h+=d,o=c&(1<<-l)-1,c>>=-l,l+=f;l>0;o=256*o+e[t+h],h+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+h],h+=d,l-=8);if(0===o)o=1-u;else{if(o===a)return s?NaN:(c?-1:1)*(1/0);s+=Math.pow(2,r),o-=u}return(c?-1:1)*s*Math.pow(2,o-r)}function o(e,t,i,r,n,o){var s,f,a,u=8*o-n-1,l=(1<<u)-1,h=l>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,c=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-s))<1&&(s--,a*=2),t+=s+h>=1?d/a:d*Math.pow(2,1-h),t*a>=2&&(s++,a/=2),s+h>=l?(f=0,s=l):s+h>=1?(f=(t*a-1)*Math.pow(2,n),s+=h):(f=t*Math.pow(2,h-1)*Math.pow(2,n),s=0));n>=8;e[i+c]=255&f,c+=p,f/=256,n-=8);for(s=s<<n|f,u+=n;u>0;e[i+c]=255&s,c+=p,s/=256,u-=8);e[i+c-p]|=128*g}var s=function d(e,t,i){if("undefined"==typeof e&&(e=d.DEFAULT_CAPACITY),"undefined"==typeof t&&(t=d.DEFAULT_ENDIAN),"undefined"==typeof i&&(i=d.DEFAULT_NOASSERT),!i){if(e=0|e,e<0)throw RangeError("Illegal capacity");t=!!t,i=!!i}this.buffer=0===e?a:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=t,this.noAssert=i};s.VERSION="5.0.1",s.LITTLE_ENDIAN=!0,s.BIG_ENDIAN=!1,s.DEFAULT_CAPACITY=16,s.DEFAULT_ENDIAN=s.BIG_ENDIAN,s.DEFAULT_NOASSERT=!1,s.Long=e||null;var f=s.prototype;f.__isByteBuffer__,Object.defineProperty(f,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var a=new ArrayBuffer(0),u=String.fromCharCode;s.accessor=function(){return Uint8Array},s.allocate=function(e,t,i){return new s(e,t,i)},s.concat=function(e,t,i,r){"boolean"!=typeof t&&"string"==typeof t||(r=i,i=t,t=void 0);for(var n,o=0,f=0,a=e.length;f<a;++f)s.isByteBuffer(e[f])||(e[f]=s.wrap(e[f],t)),n=e[f].limit-e[f].offset,n>0&&(o+=n);if(0===o)return new s(0,i,r);var u,l=new s(o,i,r);for(f=0;f<a;)u=e[f++],n=u.limit-u.offset,n<=0||(l.view.set(u.view.subarray(u.offset,u.limit),l.offset),l.offset+=n);return l.limit=l.offset,l.offset=0,l},s.isByteBuffer=function(e){return(e&&e.__isByteBuffer__)===!0},s.type=function(){return ArrayBuffer},s.wrap=function(e,t,i,n){if("string"!=typeof t&&(n=i,i=t,t=void 0),"string"==typeof e)switch("undefined"==typeof t&&(t="utf8"),t){case"base64":return s.fromBase64(e,i);case"hex":return s.fromHex(e,i);case"binary":return s.fromBinary(e,i);case"utf8":return s.fromUTF8(e,i);case"debug":return s.fromDebug(e,i);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!==("undefined"==typeof e?"undefined":r(e)))throw TypeError("Illegal buffer");var o;if(s.isByteBuffer(e))return o=f.clone.call(e),o.markedOffset=-1,o;if(e instanceof Uint8Array)o=new s(0,i,n),e.length>0&&(o.buffer=e.buffer,o.offset=e.byteOffset,o.limit=e.byteOffset+e.byteLength,o.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)o=new s(0,i,n),e.byteLength>0&&(o.buffer=e,o.offset=0,o.limit=e.byteLength,o.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");o=new s(e.length,i,n),o.limit=e.length;for(var a=0;a<e.length;++a)o.view[a]=e[a]}return o},f.writeBitSet=function(e,t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,n=t,o=e.length,s=o>>3,f=0;for(t+=this.writeVarint32(o,t);s--;)r=1&!!e[f++]|(1&!!e[f++])<<1|(1&!!e[f++])<<2|(1&!!e[f++])<<3|(1&!!e[f++])<<4|(1&!!e[f++])<<5|(1&!!e[f++])<<6|(1&!!e[f++])<<7,this.writeByte(r,t++);if(f<o){var a=0;for(r=0;f<o;)r|=(1&!!e[f++])<<a++;this.writeByte(r,t++)}return i?(this.offset=t,this):t-n},f.readBitSet=function(e){var t="undefined"==typeof e;t&&(e=this.offset);var i,r=this.readVarint32(e),n=r.value,o=n>>3,s=0,f=[];for(e+=r.length;o--;)i=this.readByte(e++),f[s++]=!!(1&i),f[s++]=!!(2&i),f[s++]=!!(4&i),f[s++]=!!(8&i),f[s++]=!!(16&i),f[s++]=!!(32&i),f[s++]=!!(64&i),f[s++]=!!(128&i);if(s<n){var a=0;for(i=this.readByte(e++);s<n;)f[s++]=!!(i>>a++&1)}return t&&(this.offset=e),f},f.readBytes=function(e,t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var r=this.slice(t,t+e);return i&&(this.offset+=e),r},f.writeBytes=f.append,f.writeInt8=function(e,t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view[t]=e,i&&(this.offset+=1),this},f.writeByte=f.writeInt8,f.readInt8=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i=this.view[e];return 128===(128&i)&&(i=-(255-i+1)),t&&(this.offset+=1),i},f.readByte=f.readInt8,f.writeUint8=function(e,t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view[t]=e,i&&(this.offset+=1),this},f.writeUInt8=f.writeUint8,f.readUint8=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i=this.view[e];return t&&(this.offset+=1),i},f.readUInt8=f.readUint8,f.writeInt16=function(e,t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),i&&(this.offset+=2),this},f.writeShort=f.writeInt16,f.readInt16=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[e],i|=this.view[e+1]<<8):(i=this.view[e]<<8,i|=this.view[e+1]),32768===(32768&i)&&(i=-(65535-i+1)),t&&(this.offset+=2),i},f.readShort=f.readInt16,f.writeUint16=function(e,t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),i&&(this.offset+=2),this},f.writeUInt16=f.writeUint16,f.readUint16=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[e],i|=this.view[e+1]<<8):(i=this.view[e]<<8,i|=this.view[e+1]),t&&(this.offset+=2),i},f.readUInt16=f.readUint16,f.writeInt32=function(e,t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),i&&(this.offset+=4),this},f.writeInt=f.writeInt32,f.readInt32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0),i|=0,t&&(this.offset+=4),i},f.readInt=f.readInt32,f.writeUint32=function(e,t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),i&&(this.offset+=4),this},f.writeUInt32=f.writeUint32,f.readUint32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0),t&&(this.offset+=4),i},f.readUInt32=f.readUint32,e&&(f.writeInt64=function(t,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),i+=8;var n=this.buffer.byteLength;i>n&&this.resize((n*=2)>i?n:i),i-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[i+3]=o>>>24&255,this.view[i+2]=o>>>16&255,this.view[i+1]=o>>>8&255,this.view[i]=255&o,i+=4,this.view[i+3]=s>>>24&255,this.view[i+2]=s>>>16&255,this.view[i+1]=s>>>8&255,this.view[i]=255&s):(this.view[i]=s>>>24&255,this.view[i+1]=s>>>16&255,this.view[i+2]=s>>>8&255,this.view[i+3]=255&s,i+=4,this.view[i]=o>>>24&255,this.view[i+1]=o>>>16&255,this.view[i+2]=o>>>8&255,this.view[i+3]=255&o),r&&(this.offset+=8),this},f.writeLong=f.writeInt64,f.readInt64=function(t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new e(r,n,(!1));return i&&(this.offset+=8),o},f.readLong=f.readInt64,f.writeUint64=function(t,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),i+=8;var n=this.buffer.byteLength;i>n&&this.resize((n*=2)>i?n:i),i-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[i+3]=o>>>24&255,this.view[i+2]=o>>>16&255,this.view[i+1]=o>>>8&255,this.view[i]=255&o,i+=4,this.view[i+3]=s>>>24&255,this.view[i+2]=s>>>16&255,this.view[i+1]=s>>>8&255,this.view[i]=255&s):(this.view[i]=s>>>24&255,this.view[i+1]=s>>>16&255,this.view[i+2]=s>>>8&255,this.view[i+3]=255&s,i+=4,this.view[i]=o>>>24&255,this.view[i+1]=o>>>16&255,this.view[i+2]=o>>>8&255,this.view[i+3]=255&o),r&&(this.offset+=8),this},f.writeUInt64=f.writeUint64,f.readUint64=function(t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new e(r,n,(!0));return i&&(this.offset+=8),o},f.readUInt64=f.readUint64),f.writeFloat32=function(e,t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,o(this.view,e,t,this.littleEndian,23,4),i&&(this.offset+=4),this},f.writeFloat=f.writeFloat32,f.readFloat32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i=n(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),i},f.readFloat=f.readFloat32,f.writeFloat64=function(e,t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=8,o(this.view,e,t,this.littleEndian,52,8),i&&(this.offset+=8),this},f.writeDouble=f.writeFloat64,f.readFloat64=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var i=n(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),i},f.readDouble=f.readFloat64,s.MAX_VARINT32_BYTES=5,s.calculateVarint32=function(e){return e>>>=0,e<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},s.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},s.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},f.writeVarint32=function(e,t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,n=s.calculateVarint32(e);t+=n;var o=this.buffer.byteLength;for(t>o&&this.resize((o*=2)>t?o:t),t-=n,e>>>=0;e>=128;)r=127&e|128,this.view[t++]=r,e>>>=7;return this.view[t++]=e,i?(this.offset=t,this):n},f.writeVarint32ZigZag=function(e,t){return this.writeVarint32(s.zigZagEncode32(e),t)},f.readVarint32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,r=0,n=0;do{if(!this.noAssert&&e>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}i=this.view[e++],r<5&&(n|=(127&i)<<7*r),++r}while(0!==(128&i));return n|=0,t?(this.offset=e,n):{value:n,length:r}},f.readVarint32ZigZag=function(e){var t=this.readVarint32(e);return"object"===("undefined"==typeof t?"undefined":r(t))?t.value=s.zigZagDecode32(t.value):t=s.zigZagDecode32(t),t},e&&(s.MAX_VARINT64_BYTES=10,s.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var i=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,n=t.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==r?i<16384?i<128?1:2:i<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:n<128?9:10},s.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},s.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},f.writeVarint64=function(t,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned());var n=s.calculateVarint64(t),o=t.toInt()>>>0,f=t.shiftRightUnsigned(28).toInt()>>>0,a=t.shiftRightUnsigned(56).toInt()>>>0;i+=n;var u=this.buffer.byteLength;switch(i>u&&this.resize((u*=2)>i?u:i),i-=n,n){case 10:this.view[i+9]=a>>>7&1;case 9:this.view[i+8]=9!==n?128|a:127&a;case 8:this.view[i+7]=8!==n?f>>>21|128:f>>>21&127;case 7:this.view[i+6]=7!==n?f>>>14|128:f>>>14&127;case 6:this.view[i+5]=6!==n?f>>>7|128:f>>>7&127;case 5:this.view[i+4]=5!==n?128|f:127&f;case 4:this.view[i+3]=4!==n?o>>>21|128:o>>>21&127;case 3:this.view[i+2]=3!==n?o>>>14|128:o>>>14&127;case 2:this.view[i+1]=2!==n?o>>>7|128:o>>>7&127;case 1:this.view[i]=1!==n?128|o:127&o}return r?(this.offset+=n,this):n},f.writeVarint64ZigZag=function(e,t){return this.writeVarint64(s.zigZagEncode64(e),t)},f.readVarint64=function(t){var i="undefined"==typeof t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,n=0,o=0,s=0,f=0;if(f=this.view[t++],n=127&f,128&f&&(f=this.view[t++],n|=(127&f)<<7,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[t++],n|=(127&f)<<14,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[t++],n|=(127&f)<<21,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[t++],o=127&f,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[t++],o|=(127&f)<<7,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[t++],o|=(127&f)<<14,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[t++],o|=(127&f)<<21,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[t++],s=127&f,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[t++],s|=(127&f)<<7,128&f||this.noAssert&&"undefined"==typeof f))))))))))throw Error("Buffer overrun");var a=e.fromBits(n|o<<28,o>>>4|s<<24,!1);return i?(this.offset=t,a):{value:a,length:t-r}},f.readVarint64ZigZag=function(t){var i=this.readVarint64(t);return i&&i.value instanceof e?i.value=s.zigZagDecode64(i.value):i=s.zigZagDecode64(i),i}),f.writeCString=function(e,i){var r="undefined"==typeof i;r&&(i=this.offset);var n,o=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(n=0;n<o;++n)if(0===e.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}o=h.calculateUTF16asUTF8(t(e))[1],i+=o+1;var s=this.buffer.byteLength;return i>s&&this.resize((s*=2)>i?s:i),i-=o+1,h.encodeUTF16toUTF8(t(e),function(e){this.view[i++]=e}.bind(this)),this.view[i++]=0,r?(this.offset=i,this):o},f.readCString=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,n=e,o=-1;return h.decodeUTF8toUTF16(function(){if(0===o)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return o=this.view[e++],0===o?null:o}.bind(this),r=i(),!0),t?(this.offset=e,r()):{string:r(),length:e-n}},f.writeIString=function(e,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,o=i;n=h.calculateUTF16asUTF8(t(e),this.noAssert)[1],i+=4+n;var s=this.buffer.byteLength;if(i>s&&this.resize((s*=2)>i?s:i),i-=4+n,this.littleEndian?(this.view[i+3]=n>>>24&255,this.view[i+2]=n>>>16&255,this.view[i+1]=n>>>8&255,this.view[i]=255&n):(this.view[i]=n>>>24&255,this.view[i+1]=n>>>16&255,this.view[i+2]=n>>>8&255,this.view[i+3]=255&n),i+=4,h.encodeUTF16toUTF8(t(e),function(e){this.view[i++]=e}.bind(this)),i!==o+4+n)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+4+n));return r?(this.offset=i,this):i-o},f.readIString=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i=e,r=this.readUint32(e),n=this.readUTF8String(r,s.METRICS_BYTES,e+=4);return e+=n.length,t?(this.offset=e,n.string):{string:n.string,length:e-i}},s.METRICS_CHARS="c",s.METRICS_BYTES="b",f.writeUTF8String=function(e,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,o=i;n=h.calculateUTF16asUTF8(t(e))[1],i+=n;var s=this.buffer.byteLength;return i>s&&this.resize((s*=2)>i?s:i),i-=n,h.encodeUTF16toUTF8(t(e),function(e){this.view[i++]=e}.bind(this)),r?(this.offset=i,this):i-o},f.writeString=f.writeUTF8String,s.calculateUTF8Chars=function(e){return h.calculateUTF16asUTF8(t(e))[0]},s.calculateUTF8Bytes=function(e){return h.calculateUTF16asUTF8(t(e))[1]},s.calculateString=s.calculateUTF8Bytes,f.readUTF8String=function(e,t,r){"number"==typeof t&&(r=t,t=void 0);var n="undefined"==typeof r;if(n&&(r=this.offset),"undefined"==typeof t&&(t=s.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o,f=0,a=r;if(t===s.METRICS_CHARS){if(o=i(),h.decodeUTF8(function(){return f<e&&r<this.limit?this.view[r++]:null}.bind(this),function(e){++f,h.UTF8toUTF16(e,o)}),f!==e)throw RangeError("Illegal range: Truncated data, "+f+" == "+e);return n?(this.offset=r,o()):{string:o(),length:r-a}}if(t===s.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+e+") <= "+this.buffer.byteLength)}var u=r+e;if(h.decodeUTF8toUTF16(function(){return r<u?this.view[r++]:null}.bind(this),o=i(),this.noAssert),r!==u)throw RangeError("Illegal range: Truncated data, "+r+" == "+u);return n?(this.offset=r,o()):{string:o(),length:r-a}}throw TypeError("Unsupported metrics: "+t)},f.readString=f.readUTF8String,f.writeVString=function(e,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,o,f=i;n=h.calculateUTF16asUTF8(t(e),this.noAssert)[1],o=s.calculateVarint32(n),i+=o+n;var a=this.buffer.byteLength;if(i>a&&this.resize((a*=2)>i?a:i),i-=o+n,i+=this.writeVarint32(n,i),h.encodeUTF16toUTF8(t(e),function(e){this.view[i++]=e}.bind(this)),i!==f+n+o)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+n+o));return r?(this.offset=i,this):i-f},f.readVString=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i=e,r=this.readVarint32(e),n=this.readUTF8String(r.value,s.METRICS_BYTES,e+=r.length);return e+=n.length,t?(this.offset=e,n.string):{string:n.string,length:e-i}},f.append=function(e,t,i){"number"!=typeof t&&"string"==typeof t||(i=t,t=void 0);var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}e instanceof s||(e=s.wrap(e,t));var n=e.limit-e.offset;if(n<=0)return this;i+=n;var o=this.buffer.byteLength;return i>o&&this.resize((o*=2)>i?o:i),i-=n,this.view.set(e.view.subarray(e.offset,e.limit),i),e.offset+=n,r&&(this.offset+=n),this},f.appendTo=function(e,t){return e.append(this,t),this},f.assert=function(e){return this.noAssert=!e,this},f.capacity=function(){return this.buffer.byteLength},f.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},f.clone=function(e){var t=new s(0,this.littleEndian,this.noAssert);return e?(t.buffer=new ArrayBuffer(this.buffer.byteLength),t.view=new Uint8Array(t.buffer)):(t.buffer=this.buffer,t.view=this.view),t.offset=this.offset,t.markedOffset=this.markedOffset,t.limit=this.limit,t},f.compact=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var i=t-e;if(0===i)return this.buffer=a,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var r=new ArrayBuffer(i),n=new Uint8Array(r);return n.set(this.view.subarray(e,t)),this.buffer=r,this.view=n,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=i,this},f.copy=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new s(0,this.littleEndian,this.noAssert);var i=t-e,r=new s(i,this.littleEndian,this.noAssert);return r.offset=0,r.limit=i,r.markedOffset>=0&&(r.markedOffset-=e),this.copyTo(r,0,e,t),r},f.copyTo=function(e,t,i,r){var n,o;if(!this.noAssert&&!s.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(o="undefined"==typeof t)?e.offset:0|t,
i=(n="undefined"==typeof i)?this.offset:0|i,r="undefined"==typeof r?this.limit:0|r,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(i<0||r>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+i+" <= "+this.buffer.byteLength);var f=r-i;return 0===f?e:(e.ensureCapacity(t+f),e.view.set(this.view.subarray(i,r),t),n&&(this.offset+=f),o&&(e.offset+=f),this)},f.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},f.fill=function(e,t,i){var r="undefined"==typeof t;if(r&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),"undefined"==typeof t&&(t=this.offset),"undefined"==typeof i&&(i=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof i||i%1!==0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}if(t>=i)return this;for(;t<i;)this.view[t++]=e;return r&&(this.offset=t),this},f.flip=function(){return this.limit=this.offset,this.offset=0,this},f.mark=function(e){if(e="undefined"==typeof e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},f.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},f.LE=function(e){return this.littleEndian="undefined"==typeof e||!!e,this},f.BE=function(e){return this.littleEndian="undefined"!=typeof e&&!e,this},f.prepend=function(e,t,i){"number"!=typeof t&&"string"==typeof t||(i=t,t=void 0);var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}e instanceof s||(e=s.wrap(e,t));var n=e.limit-e.offset;if(n<=0)return this;var o=n-i;if(o>0){var f=new ArrayBuffer(this.buffer.byteLength+o),a=new Uint8Array(f);a.set(this.view.subarray(i,this.buffer.byteLength),n),this.buffer=f,this.view=a,this.offset+=o,this.markedOffset>=0&&(this.markedOffset+=o),this.limit+=o,i+=o}else{new Uint8Array(this.buffer)}return this.view.set(e.view.subarray(e.offset,e.limit),i-n),e.offset=e.limit,r&&(this.offset-=n),this},f.prependTo=function(e,t){return e.prepend(this,t),this},f.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},f.remaining=function(){return this.limit-this.offset},f.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},f.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if(e|=0,e<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),i=new Uint8Array(t);i.set(this.view),this.buffer=t,this.view=i}return this},f.reverse=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(this.view.subarray(e,t)),this)},f.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},f.slice=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i=this.clone();return i.offset=e,i.limit=t,i},f.toBuffer=function(e){var t=this.offset,i=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof i||i%1!==0)throw TypeError("Illegal limit: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}if(!e&&0===t&&i===this.buffer.byteLength)return this.buffer;if(t===i)return a;var r=new ArrayBuffer(i-t);return new Uint8Array(r).set(new Uint8Array(this.buffer).subarray(t,i),0),r},f.toArrayBuffer=f.toBuffer,f.toString=function(e,t,i){if("undefined"==typeof e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(e="utf8",t=e,i=t),e){case"utf8":return this.toUTF8(t,i);case"base64":return this.toBase64(t,i);case"hex":return this.toHex(t,i);case"binary":return this.toBinary(t,i);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var l=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],i=[],r=0,n=t.length;r<n;++r)i[t[r]]=r;return e.encode=function(e,i){for(var r,n;null!==(r=e());)i(t[r>>2&63]),n=(3&r)<<4,null!==(r=e())?(n|=r>>4&15,i(t[63&(n|r>>4&15)]),n=(15&r)<<2,null!==(r=e())?(i(t[63&(n|r>>6&3)]),i(t[63&r])):(i(t[63&n]),i(61))):(i(t[63&n]),i(61),i(61))},e.decode=function(e,t){function r(e){throw Error("Illegal character code: "+e)}for(var n,o,s;null!==(n=e());)if(o=i[n],"undefined"==typeof o&&r(n),null!==(n=e())&&(s=i[n],"undefined"==typeof s&&r(n),t(o<<2>>>0|(48&s)>>4),null!==(n=e()))){if(o=i[n],"undefined"==typeof o){if(61===n)break;r(n)}if(t((15&s)<<4>>>0|(60&o)>>2),null!==(n=e())){if(s=i[n],"undefined"==typeof s){if(61===n)break;r(n)}t((3&o)<<6>>>0|s)}}},e.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)},e}();f.toBase64=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),e=0|e,t=0|t,e<0||t>this.capacity||e>t)throw RangeError("begin, end");var r;return l.encode(function(){return e<t?this.view[e++]:null}.bind(this),r=i()),r()},s.fromBase64=function(e,i){if("string"!=typeof e)throw TypeError("str");var r=new s(e.length/4*3,i),n=0;return l.decode(t(e),function(e){r.view[n++]=e}),r.limit=n,r},s.btoa=function(e){return s.fromBinary(e).toBase64()},s.atob=function(e){return s.fromBase64(e).toBinary()},f.toBinary=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),e|=0,t|=0,e<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var i=[],r=[];e<t;)i.push(this.view[e++]),i.length>=1024&&(r.push(String.fromCharCode.apply(String,i)),i=[]);return r.join("")+String.fromCharCode.apply(String,i)},s.fromBinary=function(e,t){if("string"!=typeof e)throw TypeError("str");for(var i,r=0,n=e.length,o=new s(n,t);r<n;){if(i=e.charCodeAt(r),i>255)throw RangeError("illegal char code: "+i);o.view[r++]=i}return o.limit=n,o},f.toDebug=function(e){for(var t,i=-1,r=this.buffer.byteLength,n="",o="",s="";i<r;){if(i!==-1&&(t=this.view[i],n+=t<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=t>32&&t<127?String.fromCharCode(t):".")),++i,e&&i>0&&i%16===0&&i!==r){for(;n.length<51;)n+=" ";s+=n+o+"\n",n=o=""}n+=i===this.offset&&i===this.limit?i===this.markedOffset?"!":"|":i===this.offset?i===this.markedOffset?"[":"<":i===this.limit?i===this.markedOffset?"]":">":i===this.markedOffset?"'":e||0!==i&&i!==r?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";s+=n+o+"\n"}return e?s:n},s.fromDebug=function(e,t,i){for(var r,n,o=e.length,f=new s((o+1)/3|0,t,i),a=0,u=0,l=!1,h=!1,d=!1,c=!1,p=!1;a<o;){switch(r=e.charAt(a++)){case"!":if(!i){if(h||d||c){p=!0;break}h=d=c=!0}f.offset=f.markedOffset=f.limit=u,l=!1;break;case"|":if(!i){if(h||c){p=!0;break}h=c=!0}f.offset=f.limit=u,l=!1;break;case"[":if(!i){if(h||d){p=!0;break}h=d=!0}f.offset=f.markedOffset=u,l=!1;break;case"<":if(!i){if(h){p=!0;break}h=!0}f.offset=u,l=!1;break;case"]":if(!i){if(c||d){p=!0;break}c=d=!0}f.limit=f.markedOffset=u,l=!1;break;case">":if(!i){if(c){p=!0;break}c=!0}f.limit=u,l=!1;break;case"'":if(!i){if(d){p=!0;break}d=!0}f.markedOffset=u,l=!1;break;case" ":l=!1;break;default:if(!i&&l){p=!0;break}if(n=parseInt(r+e.charAt(a++),16),!i&&(isNaN(n)||n<0||n>255))throw TypeError("Illegal str: Not a debug encoded string");f.view[u++]=n,l=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+a)}if(!i){if(!h||!c)throw TypeError("Illegal str: Missing offset or limit");if(u<f.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+u+" < "+o)}return f},f.toHex=function(e,t){if(e="undefined"==typeof e?this.offset:e,t="undefined"==typeof t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var i,r=new Array(t-e);e<t;)i=this.view[e++],i<16?r.push("0",i.toString(16)):r.push(i.toString(16));return r.join("")},s.fromHex=function(e,t,i){if(!i){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var r,n=e.length,o=new s(n/2|0,t),f=0,a=0;f<n;f+=2){if(r=parseInt(e.substring(f,f+2),16),!i&&(!isFinite(r)||r<0||r>255))throw TypeError("Illegal str: Contains non-hex characters");o.view[a++]=r}return o.limit=a,o};var h=function(){var e={};return e.MAX_CODEPOINT=1114111,e.encodeUTF8=function(e,t){var i=null;for("number"==typeof e&&(i=e,e=function(){return null});null!==i||null!==(i=e());)i<128?t(127&i):i<2048?(t(i>>6&31|192),t(63&i|128)):i<65536?(t(i>>12&15|224),t(i>>6&63|128),t(63&i|128)):(t(i>>18&7|240),t(i>>12&63|128),t(i>>6&63|128),t(63&i|128)),i=null},e.decodeUTF8=function(e,t){for(var i,r,n,o,s=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(i=e());)if(0===(128&i))t(i);else if(192===(224&i))null===(r=e())&&s([i,r]),t((31&i)<<6|63&r);else if(224===(240&i))(null===(r=e())||null===(n=e()))&&s([i,r,n]),t((15&i)<<12|(63&r)<<6|63&n);else{if(240!==(248&i))throw RangeError("Illegal starting byte: "+i);(null===(r=e())||null===(n=e())||null===(o=e()))&&s([i,r,n,o]),t((7&i)<<18|(63&r)<<12|(63&n)<<6|63&o)}},e.UTF16toUTF8=function(e,t){for(var i,r=null;;){if(null===(i=null!==r?r:e()))break;i>=55296&&i<=57343&&null!==(r=e())&&r>=56320&&r<=57343?(t(1024*(i-55296)+r-56320+65536),r=null):t(i)}null!==r&&t(r)},e.UTF8toUTF16=function(e,t){var i=null;for("number"==typeof e&&(i=e,e=function(){return null});null!==i||null!==(i=e());)i<=65535?t(i):(i-=65536,t((i>>10)+55296),t(i%1024+56320)),i=null},e.encodeUTF16toUTF8=function(t,i){e.UTF16toUTF8(t,function(t){e.encodeUTF8(t,i)})},e.decodeUTF8toUTF16=function(t,i){e.decodeUTF8(t,function(t){e.UTF8toUTF16(t,i)})},e.calculateCodePoint=function(e){return e<128?1:e<2048?2:e<65536?3:4},e.calculateUTF8=function(e){for(var t,i=0;null!==(t=e());)i+=t<128?1:t<2048?2:t<65536?3:4;return i},e.calculateUTF16asUTF8=function(t){var i=0,r=0;return e.UTF16toUTF8(t,function(e){++i,r+=e<128?1:e<2048?2:e<65536?3:4}),[i,r]},e}();return f.toUTF8=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r;try{h.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),r=i())}catch(n){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return r()},s.fromUTF8=function(e,i,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var n=new s(h.calculateUTF16asUTF8(t(e),!0)[1],i,r),o=0;return h.encodeUTF16toUTF8(t(e),function(e){n.view[o++]=e}),n.limit=o,n},s})},{"long":3}],3:[function(e,t,i){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i,n){"function"==typeof define&&define.amd?define([],n):"function"==typeof e&&"object"===("undefined"==typeof t?"undefined":r(t))&&t&&t.exports?t.exports=n():(i.dcodeIO=i.dcodeIO||{}).Long=n()}(void 0,function(){function e(e,t,i){this.low=0|e,this.high=0|t,this.unsigned=!!i}function t(e){return(e&&e.__isLong__)===!0}function i(e,t){var i,r,o;return t?(e>>>=0,(o=0<=e&&e<256)&&(r=a[e])?r:(i=n(e,(0|e)<0?-1:0,!0),o&&(a[e]=i),i)):(e|=0,(o=-128<=e&&e<128)&&(r=f[e])?r:(i=n(e,e<0?-1:0,!1),o&&(f[e]=i),i))}function r(e,t){if(isNaN(e)||!isFinite(e))return t?y:g;if(t){if(e<0)return y;if(e>=d)return E}else{if(e<=-c)return T;if(e+1>=c)return v}return e<0?r(-e,t).neg():n(e%h|0,e/h|0,t)}function n(t,i,r){return new e(t,i,r)}function o(e,t,i){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(i=t,t=!1):t=!!t,i=i||10,i<2||36<i)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return o(e.substring(1),t,i).neg();for(var s=r(u(i,8)),f=g,a=0;a<e.length;a+=8){var l=Math.min(8,e.length-a),h=parseInt(e.substring(a,a+l),i);if(l<8){var d=r(u(i,l));f=f.mul(d).add(r(h))}else f=f.mul(s),f=f.add(r(h))}return f.unsigned=t,f}function s(t){return t instanceof e?t:"number"==typeof t?r(t):"string"==typeof t?o(t):n(t.low,t.high,t.unsigned)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var f={},a={};e.fromInt=i,e.fromNumber=r,e.fromBits=n;var u=Math.pow;e.fromString=o,e.fromValue=s;var l=1<<24,h=4294967296,d=0x10000000000000000,c=d/2,p=i(l),g=i(0);e.ZERO=g;var y=i(0,!0);e.UZERO=y;var b=i(1);e.ONE=b;var m=i(1,!0);e.UONE=m;var w=i(-1);e.NEG_ONE=w;var v=n(-1,2147483647,!1);e.MAX_VALUE=v;var E=n(-1,-1,!0);e.MAX_UNSIGNED_VALUE=E;var T=n(0,-2147483648,!1);e.MIN_VALUE=T;var S=e.prototype;return S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},S.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(T)){var t=r(e),i=this.div(t),n=i.mul(t).sub(this);return i.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=r(u(e,6),this.unsigned),s=this,f="";;){var a=s.div(o),l=s.sub(a.mul(o)).toInt()>>>0,h=l.toString(e);if(s=a,s.isZero())return h+f;for(;h.length<6;)h="0"+h;f=""+h+f}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(T)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1===(1&this.low)},S.isEven=function(){return 0===(1&this.low)},S.equals=function(e){return t(e)||(e=s(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.compare=function(e){if(t(e)||(e=s(e)),this.eq(e))return 0;var i=this.isNegative(),r=e.isNegative();return i&&!r?-1:!i&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(T)?T:this.not().add(b)},S.neg=S.negate,S.add=function(e){t(e)||(e=s(e));var i=this.high>>>16,r=65535&this.high,o=this.low>>>16,f=65535&this.low,a=e.high>>>16,u=65535&e.high,l=e.low>>>16,h=65535&e.low,d=0,c=0,p=0,g=0;return g+=f+h,p+=g>>>16,g&=65535,p+=o+l,c+=p>>>16,p&=65535,c+=r+u,d+=c>>>16,c&=65535,d+=i+a,d&=65535,n(p<<16|g,d<<16|c,this.unsigned)},S.subtract=function(e){return t(e)||(e=s(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return g;if(t(e)||(e=s(e)),e.isZero())return g;if(this.eq(T))return e.isOdd()?T:g;if(e.eq(T))return this.isOdd()?T:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(p)&&e.lt(p))return r(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,o=65535&this.high,f=this.low>>>16,a=65535&this.low,u=e.high>>>16,l=65535&e.high,h=e.low>>>16,d=65535&e.low,c=0,y=0,b=0,m=0;return m+=a*d,b+=m>>>16,m&=65535,b+=f*d,y+=b>>>16,b&=65535,b+=a*h,y+=b>>>16,b&=65535,y+=o*d,c+=y>>>16,y&=65535,y+=f*h,c+=y>>>16,y&=65535,y+=a*l,c+=y>>>16,y&=65535,c+=i*d+o*h+f*l+a*u,c&=65535,n(b<<16|m,c<<16|y,this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(t(e)||(e=s(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?y:g;var i,n,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return m;o=y}else{if(this.eq(T)){if(e.eq(b)||e.eq(w))return T;if(e.eq(T))return b;var f=this.shr(1);return i=f.div(e).shl(1),i.eq(g)?e.isNegative()?b:w:(n=this.sub(e.mul(i)),o=i.add(n.div(e)))}if(e.eq(T))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(n=this;n.gte(e);){i=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),l=a<=48?1:u(2,a-48),h=r(i),d=h.mul(e);d.isNegative()||d.gt(n);)i-=l,h=r(i,this.unsigned),d=h.mul(e);h.isZero()&&(h=b),o=o.add(h),n=n.sub(d)}return o},S.div=S.divide,S.modulo=function(e){return t(e)||(e=s(e)),this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.not=function(){return n(~this.low,~this.high,this.unsigned)},S.and=function(e){return t(e)||(e=s(e)),n(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return t(e)||(e=s(e)),n(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return t(e)||(e=s(e)),n(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?n(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):n(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?n(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):n(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),e&=63,0===e)return this;var i=this.high;if(e<32){var r=this.low;return n(r>>>e|i<<32-e,i>>>e,this.unsigned)}return 32===e?n(i,0,this.unsigned):n(i>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?n(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:n(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e})},{}],4:[function(e,t,i){"use strict";function r(){}var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var i=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),i.length>0)){var r=i.shift();r()}},!0),function(e){i.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=r,n.addListener=r,n.once=r,n.off=r,n.removeListener=r,n.removeAllListeners=r,n.emit=r,n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],5:[function(e,t,i){(function(i,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={scope:{}};o.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){if(i.get||i.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=i.value)},o.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof r&&null!=r?r:e},o.global=o.getGlobal(void 0),o.SYMBOL_PREFIX="jscomp_symbol_",o.initSymbol=function(){o.initSymbol=function(){},o.global.Symbol||(o.global.Symbol=o.Symbol)},o.symbolCounter_=0,o.Symbol=function(e){return o.SYMBOL_PREFIX+(e||"")+o.symbolCounter_++},o.initSymbolIterator=function(){o.initSymbol();var e=o.global.Symbol.iterator;e||(e=o.global.Symbol.iterator=o.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&o.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return o.arrayIterator(this)}}),o.initSymbolIterator=function(){}},o.arrayIterator=function(e){var t=0;return o.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},o.iteratorPrototype=function(e){return o.initSymbolIterator(),e={next:e},e[o.global.Symbol.iterator]=function(){return this},e},o.array=o.array||{},o.iteratorFromArray=function(e,t){o.initSymbolIterator(),e instanceof String&&(e+="");var i=0,r={next:function(){if(i<e.length){var n=i++;return{value:t(n,e[n]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},o.polyfill=function(e,t,i,r){if(t){for(i=o.global,e=e.split("."),r=0;r<e.length-1;r++){var n=e[r];n in i||(i[n]={}),i=i[n]}e=e[e.length-1],r=i[e],t=t(r),t!=r&&null!=t&&o.defineProperty(i,e,{configurable:!0,writable:!0,value:t})}},o.polyfill("Array.prototype.keys",function(e){return e?e:function(){return o.iteratorFromArray(this,function(e){return e})}},"es6-impl","es3"),o.polyfill("Array.prototype.entries",function(e){return e?e:function(){return o.iteratorFromArray(this,function(e,t){return[e,t]})}},"es6-impl","es3"),o.polyfill("Array.prototype.values",function(e){return e?e:function(){return o.iteratorFromArray(this,function(e,t){return t})}},"es6","es3"),function(i,r){"function"==typeof define&&define.amd?define(["bytebuffer"],r):"function"==typeof e&&"object"===("undefined"==typeof t?"undefined":n(t))&&t&&t.exports?t.exports=r(e("bytebuffer"),!0):(i.dcodeIO=i.dcodeIO||{}).ProtoBuf=r(i.dcodeIO.ByteBuffer)}(void 0,function(t,r){var o={};return o.ByteBuffer=t,o.Long=t.Long||null,o.VERSION="5.0.2",o.WIRE_TYPES={},o.WIRE_TYPES.VARINT=0,o.WIRE_TYPES.BITS64=1,o.WIRE_TYPES.LDELIM=2,o.WIRE_TYPES.STARTGROUP=3,o.WIRE_TYPES.ENDGROUP=4,o.WIRE_TYPES.BITS32=5,o.PACKABLE_WIRE_TYPES=[o.WIRE_TYPES.VARINT,o.WIRE_TYPES.BITS64,o.WIRE_TYPES.BITS32],o.TYPES={int32:{name:"int32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.ZERO:void 0},uint64:{name:"uint64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.UZERO:void 0},sint64:{name:"sint64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.ZERO:void 0},bool:{name:"bool",wireType:o.WIRE_TYPES.VARINT,defaultValue:!1},"double":{name:"double",wireType:o.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:o.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:o.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:o.WIRE_TYPES.BITS64,defaultValue:o.Long?o.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:o.WIRE_TYPES.BITS64,defaultValue:o.Long?o.Long.ZERO:void 0},"float":{name:"float",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},"enum":{name:"enum",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:o.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:o.WIRE_TYPES.STARTGROUP,defaultValue:null}},o.MAP_KEY_TYPES=[o.TYPES.int32,o.TYPES.sint32,o.TYPES.sfixed32,o.TYPES.uint32,o.TYPES.fixed32,o.TYPES.int64,o.TYPES.sint64,o.TYPES.sfixed64,o.TYPES.uint64,o.TYPES.fixed64,o.TYPES.bool,o.TYPES.string,o.TYPES.bytes],o.ID_MIN=1,o.ID_MAX=536870911,o.convertFieldsToCamelCase=!1,o.populateAccessors=!0,o.populateDefaults=!0,o.Util=function(){var t={};return t.IS_NODE=!("object"!==("undefined"==typeof i?"undefined":n(i))||"[object process]"!=i+""||i.browser),t.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,i=0;i<e.length;i++){try{t=e[i]()}catch(r){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},t.fetch=function(i,r){if(r&&"function"!=typeof r&&(r=null),t.IS_NODE){var n=e("fs");if(r)n.readFile(i,function(e,t){r(e?null:""+t)});else try{return n.readFileSync(i)}catch(o){return null}}else{var s=t.XHR();if(s.open("GET",i,!!r),s.setRequestHeader("Accept","text/plain"),"function"==typeof s.overrideMimeType&&s.overrideMimeType("text/plain"),!r)return s.send(null),200==s.status||0==s.status&&"string"==typeof s.responseText?s.responseText:null;s.onreadystatechange=function(){4==s.readyState&&r(200==s.status||0==s.status&&"string"==typeof s.responseText?s.responseText:null)},4!=s.readyState&&s.send(null)}},t.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,function(e,t){return t.toUpperCase()})},t}(),o.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},o.Reflect=function(e){function i(t,i){if(t&&"number"==typeof t.low&&"number"==typeof t.high&&"boolean"==typeof t.unsigned&&t.low===t.low&&t.high===t.high)return new e.Long(t.low,t.high,"undefined"==typeof i?t.unsigned:i);if("string"==typeof t)return e.Long.fromString(t,i||!1,10);if("number"==typeof t)return e.Long.fromNumber(t,i||!1);throw Error("not convertible to Long")}function r(t,i){var n=i.readVarint32(),o=7&n,n=n>>>3;switch(o){case e.WIRE_TYPES.VARINT:do n=i.readUint8();while(128===(128&n));break;case e.WIRE_TYPES.BITS64:i.offset+=8;break;case e.WIRE_TYPES.LDELIM:n=i.readVarint32(),i.offset+=n;break;case e.WIRE_TYPES.STARTGROUP:r(n,i);break;case e.WIRE_TYPES.ENDGROUP:if(n===t)return!1;throw Error("Illegal GROUPEND after unknown group: "+n+" ("+t+" expected)");case e.WIRE_TYPES.BITS32:i.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+t+": "+o)}return!0}var o={},s=function(e,t,i){this.builder=e,this.parent=t,this.name=i},f=s.prototype;f.fqn=function(){for(var e=this.name,t=this;;){if(t=t.parent,null==t)break;e=t.name+"."+e}return e},f.toString=function(e){return(e?this.className+" ":"")+this.fqn()},f.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},o.T=s;var a=function(e,t,i,r,n){s.call(this,e,t,i),this.className="Namespace",this.children=[],this.options=r||{},this.syntax=n||"proto2"},f=a.prototype=Object.create(s.prototype);f.getChildren=function(e){if(e=e||null,null==e)return this.children.slice();for(var t=[],i=0,r=this.children.length;i<r;++i)this.children[i]instanceof e&&t.push(this.children[i]);return t},f.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof h.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof h.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},f.getChild=function(e){for(var t="number"==typeof e?"id":"name",i=0,r=this.children.length;i<r;++i)if(this.children[i][t]===e)return this.children[i];return null},f.resolve=function(e,t){var i="string"==typeof e?e.split("."):e,r=this,n=0;if(""===i[n]){for(;null!==r.parent;)r=r.parent;n++}do{do{if(!(r instanceof o.Namespace)){r=null;break}if(r=r.getChild(i[n]),!(r&&r instanceof o.T)||t&&!(r instanceof o.Namespace)){r=null;break}n++}while(n<i.length);if(null!=r)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=r);return r},f.qn=function(e){var t=[],i=e;do t.unshift(i.name),i=i.parent;while(null!==i);for(i=1;i<=t.length;i++){var r=t.slice(t.length-i);if(e===this.resolve(r,e instanceof o.Namespace))return r.join(".")}return e.fqn()},f.build=function(){for(var e,t={},i=this.children,r=0,n=i.length;r<n;++r)e=i[r],e instanceof a&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},f.buildOpt=function(){for(var e={},t=Object.keys(this.options),i=0,r=t.length;i<r;++i)e[t[i]]=this.options[t[i]];return e},f.getOption=function(e){return"undefined"==typeof e?this.options:"undefined"!=typeof this.options[e]?this.options[e]:null},o.Namespace=a;var u=function(t,i,r,n,o){if(this.type=t,this.resolvedType=i,this.isMapKey=r,this.syntax=n,this.name=o,r&&0>e.MAP_KEY_TYPES.indexOf(t))throw Error("Invalid map key type: "+t.name);
},l=u.prototype;u.defaultFieldValue=function(i){if("string"==typeof i&&(i=e.TYPES[i]),"undefined"==typeof i.defaultValue)throw Error("default value for type "+i.name+" is not supported");return i==e.TYPES.bytes?new t(0):i.defaultValue},l.toString=function(){return(this.name||"")+(this.isMapKey?"map":"value")+" element"},l.verifyValue=function(r){function o(e,t){throw Error("Illegal value for "+s.toString(!0)+" of type "+s.type.name+": "+e+" ("+t+")")}var s=this;switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:return("number"!=typeof r||r===r&&0!==r%1)&&o("undefined"==typeof r?"undefined":n(r),"not an integer"),4294967295<r?0|r:r;case e.TYPES.uint32:case e.TYPES.fixed32:return("number"!=typeof r||r===r&&0!==r%1)&&o("undefined"==typeof r?"undefined":n(r),"not an integer"),0>r?r>>>0:r;case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:if(e.Long)try{return i(r,!1)}catch(f){o("undefined"==typeof r?"undefined":n(r),f.message)}else o("undefined"==typeof r?"undefined":n(r),"requires Long.js");case e.TYPES.uint64:case e.TYPES.fixed64:if(e.Long)try{return i(r,!0)}catch(f){o("undefined"==typeof r?"undefined":n(r),f.message)}else o("undefined"==typeof r?"undefined":n(r),"requires Long.js");case e.TYPES.bool:return"boolean"!=typeof r&&o("undefined"==typeof r?"undefined":n(r),"not a boolean"),r;case e.TYPES["float"]:case e.TYPES["double"]:return"number"!=typeof r&&o("undefined"==typeof r?"undefined":n(r),"not a number"),r;case e.TYPES.string:return"string"==typeof r||r&&r instanceof String||o("undefined"==typeof r?"undefined":n(r),"not a string"),""+r;case e.TYPES.bytes:return t.isByteBuffer(r)?r:t.wrap(r,"base64");case e.TYPES["enum"]:for(var a=this.resolvedType.getChildren(e.Reflect.Enum.Value),u=0;u<a.length;u++)if(a[u].name==r||a[u].id==r)return a[u].id;if("proto3"===this.syntax)return("number"!=typeof r||r===r&&0!==r%1)&&o("undefined"==typeof r?"undefined":n(r),"not an integer"),(4294967295<r||0>r)&&o("undefined"==typeof r?"undefined":n(r),"not in range for uint32"),r;o(r,"not a valid enum value");case e.TYPES.group:case e.TYPES.message:if(r&&"object"===("undefined"==typeof r?"undefined":n(r))||o("undefined"==typeof r?"undefined":n(r),"object expected"),r instanceof this.resolvedType.clazz)return r;if(r instanceof e.Builder.Message){var u,a={};for(u in r)r.hasOwnProperty(u)&&(a[u]=r[u]);r=a}return new this.resolvedType.clazz(r)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+r+" (undefined type "+this.type+")")},l.calculateLength=function(i,r){if(null===r)return 0;var n;switch(this.type){case e.TYPES.int32:return 0>r?t.calculateVarint64(r):t.calculateVarint32(r);case e.TYPES.uint32:return t.calculateVarint32(r);case e.TYPES.sint32:return t.calculateVarint32(t.zigZagEncode32(r));case e.TYPES.fixed32:case e.TYPES.sfixed32:case e.TYPES["float"]:return 4;case e.TYPES.int64:case e.TYPES.uint64:return t.calculateVarint64(r);case e.TYPES.sint64:return t.calculateVarint64(t.zigZagEncode64(r));case e.TYPES.fixed64:case e.TYPES.sfixed64:return 8;case e.TYPES.bool:return 1;case e.TYPES["enum"]:return t.calculateVarint32(r);case e.TYPES["double"]:return 8;case e.TYPES.string:return n=t.calculateUTF8Bytes(r),t.calculateVarint32(n)+n;case e.TYPES.bytes:if(0>r.remaining())throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");return t.calculateVarint32(r.remaining())+r.remaining();case e.TYPES.message:return n=this.resolvedType.calculate(r),t.calculateVarint32(n)+n;case e.TYPES.group:return n=this.resolvedType.calculate(r),n+t.calculateVarint32(i<<3|e.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")},l.encodeValue=function(i,r,n){if(null===r)return n;switch(this.type){case e.TYPES.int32:0>r?n.writeVarint64(r):n.writeVarint32(r);break;case e.TYPES.uint32:n.writeVarint32(r);break;case e.TYPES.sint32:n.writeVarint32ZigZag(r);break;case e.TYPES.fixed32:n.writeUint32(r);break;case e.TYPES.sfixed32:n.writeInt32(r);break;case e.TYPES.int64:case e.TYPES.uint64:n.writeVarint64(r);break;case e.TYPES.sint64:n.writeVarint64ZigZag(r);break;case e.TYPES.fixed64:n.writeUint64(r);break;case e.TYPES.sfixed64:n.writeInt64(r);break;case e.TYPES.bool:"string"==typeof r?n.writeVarint32("false"===r.toLowerCase()?0:!!r):n.writeVarint32(r?1:0);break;case e.TYPES["enum"]:n.writeVarint32(r);break;case e.TYPES["float"]:n.writeFloat32(r);break;case e.TYPES["double"]:n.writeFloat64(r);break;case e.TYPES.string:n.writeVString(r);break;case e.TYPES.bytes:if(0>r.remaining())throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");i=r.offset,n.writeVarint32(r.remaining()),n.append(r),r.offset=i;break;case e.TYPES.message:i=(new t).LE(),this.resolvedType.encode(r,i),n.writeVarint32(i.offset),n.append(i.flip());break;case e.TYPES.group:this.resolvedType.encode(r,n),n.writeVarint32(i<<3|e.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")}return n},l.decode=function(t,i,r){if(i!=this.type.wireType)throw Error("Unexpected wire type for element");switch(this.type){case e.TYPES.int32:return 0|t.readVarint32();case e.TYPES.uint32:return t.readVarint32()>>>0;case e.TYPES.sint32:return 0|t.readVarint32ZigZag();case e.TYPES.fixed32:return t.readUint32()>>>0;case e.TYPES.sfixed32:return 0|t.readInt32();case e.TYPES.int64:return t.readVarint64();case e.TYPES.uint64:return t.readVarint64().toUnsigned();case e.TYPES.sint64:return t.readVarint64ZigZag();case e.TYPES.fixed64:return t.readUint64();case e.TYPES.sfixed64:return t.readInt64();case e.TYPES.bool:return!!t.readVarint32();case e.TYPES["enum"]:return t.readVarint32();case e.TYPES["float"]:return t.readFloat();case e.TYPES["double"]:return t.readDouble();case e.TYPES.string:return t.readVString();case e.TYPES.bytes:if(r=t.readVarint32(),t.remaining()<r)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+r+" required but got only "+t.remaining());return i=t.clone(),i.limit=i.offset+r,t.offset+=r,i;case e.TYPES.message:return r=t.readVarint32(),this.resolvedType.decode(t,r);case e.TYPES.group:return this.resolvedType.decode(t,-1,r)}throw Error("[INTERNAL] Illegal decode type")},l.valueFromString=function(i){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:case e.TYPES.uint32:case e.TYPES.fixed32:return this.verifyValue(parseInt(i));case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:case e.TYPES.uint64:case e.TYPES.fixed64:return this.verifyValue(i);case e.TYPES.bool:return"true"===i;case e.TYPES.string:return this.verifyValue(i);case e.TYPES.bytes:return t.fromBinary(i)}},l.valueToString=function(t){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===e.TYPES.bytes?t.toString("binary"):t.toString()},o.Element=u;var h=function(e,t,i,r,n,o){a.call(this,e,t,i,r,o),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!n,this._fieldsByName=this._fieldsById=this._fields=null},l=h.prototype=Object.create(a.prototype);l.build=function(i){if(this.clazz&&!i)return this.clazz;i=function(e,i){function r(i,o,s,f){if(null===i||"object"!==("undefined"==typeof i?"undefined":n(i))){if(f&&f instanceof e.Reflect.Enum){var a=e.Reflect.Enum.getName(f.object,i);if(null!==a)return a}return i}if(t.isByteBuffer(i))return o?i.toBase64():i.toBuffer();if(e.Long.isLong(i))return s?i.toString():e.Long.fromValue(i);var u;if(Array.isArray(i))return u=[],i.forEach(function(e,t){u[t]=r(e,o,s,f)}),u;if(u={},i instanceof e.Map){for(var a=i.entries(),l=a.next();!l.done;l=a.next())u[i.keyElem.valueToString(l.value[0])]=r(l.value[1],o,s,i.valueElem.resolvedType);return u}var h,a=i.$type,l=void 0;for(h in i)i.hasOwnProperty(h)&&(a&&(l=a.getChild(h))?u[h]=r(i[h],o,s,l.resolvedType):u[h]=r(i[h],o,s));return u}var o=i.getChildren(e.Reflect.Message.Field),s=i.getChildren(e.Reflect.Message.OneOf),f=function h(r,f){e.Builder.Message.call(this);for(var a=0,u=s.length;a<u;++a)this[s[a].name]=null;for(a=0,u=o.length;a<u;++a){var l=o[a];this[l.name]=l.repeated?[]:l.map?new e.Map(l):null,!l.required&&"proto3"!==i.syntax||null===l.defaultValue||(this[l.name]=l.defaultValue)}if(0<arguments.length)if(1!==arguments.length||null===r||"object"!==("undefined"==typeof r?"undefined":n(r))||!("function"!=typeof r.encode||r instanceof h)||Array.isArray(r)||r instanceof e.Map||t.isByteBuffer(r)||r instanceof ArrayBuffer||e.Long&&r instanceof e.Long)for(a=0,u=arguments.length;a<u;++a)"undefined"!=typeof(l=arguments[a])&&this.$set(o[a].name,l);else this.$set(r)},a=f.prototype=Object.create(e.Builder.Message.prototype);a.add=function(t,r,n){var o=i._fieldsByName[t];if(!n){if(!o)throw Error(this+"#"+t+" is undefined");if(!(o instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+o.toString(!0));if(!o.repeated)throw Error(this+"#"+t+" is not a repeated field");r=o.verifyValue(r,!0)}return null===this[t]&&(this[t]=[]),this[t].push(r),this},a.$add=a.add,a.set=function(t,r,o){if(t&&"object"===("undefined"==typeof t?"undefined":n(t))){o=r;for(var s in t)t.hasOwnProperty(s)&&"undefined"!=typeof(r=t[s])&&void 0===i._oneofsByName[s]&&this.$set(s,r,o);return this}if(s=i._fieldsByName[t],o)this[t]=r;else{if(!s)throw Error(this+"#"+t+" is not a field: undefined");if(!(s instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+s.toString(!0));this[s.name]=r=s.verifyValue(r)}return s&&s.oneof&&(o=this[s.oneof.name],null!==r?(null!==o&&o!==s.name&&(this[o]=null),this[s.oneof.name]=s.name):o===t&&(this[s.oneof.name]=null)),this},a.$set=a.set,a.get=function(t,r){if(r)return this[t];var n=i._fieldsByName[t];if(!(n&&n instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: undefined");if(!(n instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+n.toString(!0));return this[n.name]},a.$get=a.get;for(var u=0;u<o.length;u++){var l=o[u];l instanceof e.Reflect.Message.ExtensionField||i.builder.options.populateAccessors&&function(e){var t=e.originalName.replace(/(_[a-zA-Z])/g,function(e){return e.toUpperCase().replace("_","")}),t=t.substring(0,1).toUpperCase()+t.substring(1),r=e.originalName.replace(/([A-Z])/g,function(e){return"_"+e}),n=function(t,i){return this[e.name]=i?t:e.verifyValue(t),this},o=function(){return this[e.name]};null===i.getChild("set"+t)&&(a["set"+t]=n),null===i.getChild("set_"+r)&&(a["set_"+r]=n),null===i.getChild("get"+t)&&(a["get"+t]=o),null===i.getChild("get_"+r)&&(a["get_"+r]=o)}(l)}return a.encode=function(e,r){"boolean"==typeof e&&(r=e,e=void 0);var n=!1;e||(e=new t,n=!0);var o=e.littleEndian;try{return i.encode(this,e.LE(),r),(n?e.flip():e).LE(o)}catch(s){throw e.LE(o),s}},f.encode=function(e,t,i){return new f(e).encode(t,i)},a.calculate=function(){return i.calculate(this)},a.encodeDelimited=function(e,r){var n=!1;e||(e=new t,n=!0);var o=(new t).LE();return i.encode(this,o,r).flip(),e.writeVarint32(o.remaining()),e.append(o),n?e.flip():e},a.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},a.toArrayBuffer=a.encodeAB,a.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},a.toBuffer=a.encodeNB,a.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},a.toBase64=a.encode64,a.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},a.toHex=a.encodeHex,a.toRaw=function(e,t){return r(this,!!e,!!t,this.$type)},a.encodeJSON=function(){return JSON.stringify(r(this,!0,!0,this.$type))},f.decode=function(e,r,n){"string"==typeof r&&(n=r,r=-1),"string"==typeof e?e=t.wrap(e,n?n:"base64"):t.isByteBuffer(e)||(e=t.wrap(e)),n=e.littleEndian;try{var o=i.decode(e.LE(),r);return e.LE(n),o}catch(s){throw e.LE(n),s}},f.decodeDelimited=function(e,r){if("string"==typeof e?e=t.wrap(e,r?r:"base64"):t.isByteBuffer(e)||(e=t.wrap(e)),1>e.remaining())return null;var n=e.offset,o=e.readVarint32();if(e.remaining()<o)return e.offset=n,null;try{var s=i.decode(e.slice(e.offset,e.offset+o).LE());return e.offset+=o,s}catch(f){throw e.offset+=o,f}},f.decode64=function(e){return f.decode(e,"base64")},f.decodeHex=function(e){return f.decode(e,"hex")},f.decodeJSON=function(e){return new f(JSON.parse(e))},a.toString=function(){return i.toString()},Object.defineProperty&&(Object.defineProperty(f,"$options",{value:i.buildOpt()}),Object.defineProperty(a,"$options",{value:f.$options}),Object.defineProperty(f,"$type",{value:i}),Object.defineProperty(a,"$type",{value:i})),f}(e,this),this._fields=[],this._fieldsById={},this._fieldsByName={},this._oneofsByName={};for(var r,o=0,s=this.children.length;o<s;o++)if(r=this.children[o],r instanceof c||r instanceof h||r instanceof g){if(i.hasOwnProperty(r.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+r.toString(!0)+" cannot override static property '"+r.name+"'");i[r.name]=r.build()}else if(r instanceof h.Field)r.build(),this._fields.push(r),this._fieldsById[r.id]=r,this._fieldsByName[r.name]=r;else if(r instanceof h.OneOf)this._oneofsByName[r.name]=r;else if(!(r instanceof h.OneOf||r instanceof p))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[o].toString(!0));return this.clazz=i},l.encode=function(e,t,i){for(var r,n,o=null,s=0,f=this._fields.length;s<f;++s)r=this._fields[s],n=e[r.name],r.required&&null===n?null===o&&(o=r):r.encode(i?n:r.verifyValue(n),t,e);if(null!==o)throw e=Error("Missing at least one required field for "+this.toString(!0)+": "+o),e.encoded=t,e;return t},l.calculate=function(e){for(var t,i,r=0,n=0,o=this._fields.length;n<o;++n){if(t=this._fields[n],i=e[t.name],t.required&&null===i)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);r+=t.calculate(i,e)}return r},l.decode=function(t,i,n){"number"!=typeof i&&(i=-1);for(var o,s,f,a=t.offset,u=new this.clazz;t.offset<a+i||-1===i&&0<t.remaining();){if(o=t.readVarint32(),s=7&o,f=o>>>3,s===e.WIRE_TYPES.ENDGROUP){if(f!==n)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+f+" ("+(n?n+" expected":"not a group")+")");break}if(o=this._fieldsById[f])o.repeated&&!o.options.packed?u[o.name].push(o.decode(s,t)):o.map?(s=o.decode(s,t),u[o.name].set(s[0],s[1])):(u[o.name]=o.decode(s,t),o.oneof&&(s=u[o.oneof.name],null!==s&&s!==o.name&&(u[s]=null),u[o.oneof.name]=o.name));else switch(s){case e.WIRE_TYPES.VARINT:t.readVarint32();break;case e.WIRE_TYPES.BITS32:t.offset+=4;break;case e.WIRE_TYPES.BITS64:t.offset+=8;break;case e.WIRE_TYPES.LDELIM:o=t.readVarint32(),t.offset+=o;break;case e.WIRE_TYPES.STARTGROUP:for(;r(f,t););break;default:throw Error("Illegal wire type for unknown field "+f+" in "+this.toString(!0)+"#decode: "+s)}}for(t=0,i=this._fields.length;t<i;++t)if(o=this._fields[t],null===u[o.name])if("proto3"===this.syntax)u[o.name]=o.defaultValue;else{if(o.required)throw t=Error("Missing at least one required field for "+this.toString(!0)+": "+o.name),t.decoded=u,t;e.populateDefaults&&null!==o.defaultValue&&(u[o.name]=o.defaultValue)}return u},o.Message=h;var d=function(t,i,r,n,o,f,a,u,l,d){s.call(this,t,i,f),this.className="Message.Field",this.required="required"===r,this.repeated="repeated"===r,this.map="map"===r,this.keyType=n||null,this.type=o,this.resolvedType=null,this.id=a,this.options=u||{},this.defaultValue=null,this.oneof=l||null,this.syntax=d||"proto2",this.originalName=this.name,this.keyElement=this.element=null,!this.builder.options.convertFieldsToCamelCase||this instanceof h.ExtensionField||(this.name=e.Util.toCamelCase(this.name))},l=d.prototype=Object.create(s.prototype);l.build=function(){this.element=new u(this.type,this.resolvedType,(!1),this.syntax,this.name),this.map&&(this.keyElement=new u(this.keyType,(void 0),(!0),this.syntax,this.name)),"proto3"!==this.syntax||this.repeated||this.map?"undefined"!=typeof this.options["default"]&&(this.defaultValue=this.verifyValue(this.options["default"])):this.defaultValue=u.defaultFieldValue(this.type)},l.verifyValue=function(t,i){function r(e,t){throw Error("Illegal value for "+o.toString(!0)+" of type "+o.type.name+": "+e+" ("+t+")")}i=i||!1;var o=this;if(null===t)return this.required&&r("undefined"==typeof t?"undefined":n(t),"required"),"proto3"===this.syntax&&this.type!==e.TYPES.message&&r("undefined"==typeof t?"undefined":n(t),"proto3 field without field presence cannot be null"),null;var s;if(this.repeated&&!i){Array.isArray(t)||(t=[t]);var f=[];for(s=0;s<t.length;s++)f.push(this.element.verifyValue(t[s]));return f}return this.map&&!i?t instanceof e.Map?t:(t instanceof Object||r("undefined"==typeof t?"undefined":n(t),"expected ProtoBuf.Map or raw object for map field"),new e.Map(this,t)):(!this.repeated&&Array.isArray(t)&&r("undefined"==typeof t?"undefined":n(t),"no array expected"),this.element.verifyValue(t))},l.hasWirePresence=function(t,i){if("proto3"!==this.syntax)return null!==t;if(this.oneof&&i[this.oneof.name]===this.name)return!0;switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:case e.TYPES.uint32:case e.TYPES.fixed32:return 0!==t;case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:case e.TYPES.uint64:case e.TYPES.fixed64:return 0!==t.low||0!==t.high;case e.TYPES.bool:return t;case e.TYPES["float"]:case e.TYPES["double"]:return 0!==t;case e.TYPES.string:return 0<t.length;case e.TYPES.bytes:return 0<t.remaining();case e.TYPES["enum"]:return 0!==t;case e.TYPES.message:return null!==t;default:return!0}},l.encode=function(i,r,o){if(null===this.type||"object"!==n(this.type))throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===i||this.repeated&&0==i.length)return r;try{if(this.repeated){var s;if(this.options.packed&&0<=e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){r.writeVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),r.ensureCapacity(r.offset+=1);var f=r.offset;for(s=0;s<i.length;s++)this.element.encodeValue(this.id,i[s],r);var a=r.offset-f,u=t.calculateVarint32(a);if(1<u){var l=r.slice(f,r.offset),f=f+(u-1);r.offset=f,r.append(l)}r.writeVarint32(a,f-u)}else for(s=0;s<i.length;s++)r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,i[s],r)}else this.map?i.forEach(function(i,n,o){o=t.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,n)+t.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,i),r.writeVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),r.writeVarint32(o),r.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,n,r),r.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,i,r)},this):this.hasWirePresence(i,o)&&(r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,i,r))}catch(h){throw Error("Illegal value for "+this.toString(!0)+": "+i+" ("+h+")")}return r},l.calculate=function(i,r){if(i=this.verifyValue(i),null===this.type||"object"!==n(this.type))throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===i||this.repeated&&0==i.length)return 0;var o=0;try{if(this.repeated){var s,f;if(this.options.packed&&0<=e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){for(o+=t.calculateVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),s=f=0;s<i.length;s++)f+=this.element.calculateLength(this.id,i[s]);o+=t.calculateVarint32(f),o+=f}else for(s=0;s<i.length;s++)o+=t.calculateVarint32(this.id<<3|this.type.wireType),o+=this.element.calculateLength(this.id,i[s])}else this.map?i.forEach(function(i,r,n){i=t.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,r)+t.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,i),o+=t.calculateVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),o+=t.calculateVarint32(i),o+=i},this):this.hasWirePresence(i,r)&&(o+=t.calculateVarint32(this.id<<3|this.type.wireType),o+=this.element.calculateLength(this.id,i))}catch(a){throw Error("Illegal value for "+this.toString(!0)+": "+i+" ("+a+")")}return o},l.decode=function(t,i,r){if(!(!this.map&&t==this.type.wireType||!r&&this.repeated&&this.options.packed&&t==e.WIRE_TYPES.LDELIM||this.map&&t==e.WIRE_TYPES.LDELIM))throw Error("Illegal wire type for field "+this.toString(!0)+": "+t+" ("+this.type.wireType+" expected)");if(t==e.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&0<=e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)&&!r){for(t=i.readVarint32(),t=i.offset+t,r=[];i.offset<t;)r.push(this.decode(this.type.wireType,i,!0));return r}if(this.map){var n=u.defaultFieldValue(this.keyType);if(r=u.defaultFieldValue(this.type),t=i.readVarint32(),i.remaining()<t)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+t+" required but got only "+i.remaining());var o=i.clone();for(o.limit=o.offset+t,i.offset+=t;0<o.remaining();)if(i=o.readVarint32(),t=7&i,i>>>=3,1===i)n=this.keyElement.decode(o,t,i);else{if(2!==i)throw Error("Unexpected tag in map field key/value submessage");r=this.element.decode(o,t,i)}return[n,r]}return this.element.decode(i,t,this.id)},o.Message.Field=d,l=function(e,t,i,r,n,o,s){d.call(this,e,t,i,null,r,n,o,s)},l.prototype=Object.create(d.prototype),o.Message.ExtensionField=l,o.Message.OneOf=function(e,t,i){s.call(this,e,t,i),this.fields=[]};var c=function(e,t,i,r,n){a.call(this,e,t,i,r,n),this.className="Enum",this.object=null};c.getName=function(e,t){for(var i,r=Object.keys(e),n=0;n<r.length;++n)if(e[i=r[n]]===t)return i;return null},(c.prototype=Object.create(a.prototype)).build=function(t){if(this.object&&!t)return this.object;t=new e.Builder.Enum;for(var i=this.getChildren(c.Value),r=0,n=i.length;r<n;++r)t[i[r].name]=i[r].id;return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=t},o.Enum=c,l=function(e,t,i,r){s.call(this,e,t,i),this.className="Enum.Value",this.id=r},l.prototype=Object.create(s.prototype),o.Enum.Value=l;var p=function(e,t,i,r){s.call(this,e,t,i),this.field=r};p.prototype=Object.create(s.prototype),o.Extension=p;var g=function(e,t,i,r){a.call(this,e,t,i,r),this.className="Service",this.clazz=null};(g.prototype=Object.create(a.prototype)).build=function(i){return this.clazz&&!i?this.clazz:this.clazz=function(e,i){for(var r=function(t){e.Builder.Service.call(this),this.rpcImpl=t||function(e,t,i){setTimeout(i.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},o=r.prototype=Object.create(e.Builder.Service.prototype),s=i.getChildren(e.Reflect.Service.RPCMethod),f=0;f<s.length;f++)!function(e){o[e.name]=function(r,o){try{try{r=e.resolvedRequestType.clazz.decode(t.wrap(r))}catch(s){if(!(s instanceof TypeError))throw s}if(null===r||"object"!==("undefined"==typeof r?"undefined":n(r)))throw Error("Illegal arguments");r instanceof e.resolvedRequestType.clazz||(r=new e.resolvedRequestType.clazz(r)),this.rpcImpl(e.fqn(),r,function(t,r){if(t)o(t);else{null===r&&(r="");try{r=e.resolvedResponseType.clazz.decode(r)}catch(n){}r&&r instanceof e.resolvedResponseType.clazz?o(null,r):o(Error("Illegal response type received in service method "+i.name+"#"+e.name))}})}catch(s){setTimeout(o.bind(this,s),0)}},r[e.name]=function(t,i,n){new r(t)[e.name](i,n)},Object.defineProperty&&(Object.defineProperty(r[e.name],"$options",{value:e.buildOpt()}),Object.defineProperty(o[e.name],"$options",{value:r[e.name].$options}))}(s[f]);return Object.defineProperty&&(Object.defineProperty(r,"$options",{value:i.buildOpt()}),Object.defineProperty(o,"$options",{value:r.$options}),Object.defineProperty(r,"$type",{value:i}),Object.defineProperty(o,"$type",{value:i})),r}(e,this)},o.Service=g;var y=function(e,t,i,r){s.call(this,e,t,i),this.className="Service.Method",this.options=r||{}};return(y.prototype=Object.create(s.prototype)).buildOpt=f.buildOpt,o.Service.Method=y,f=function(e,t,i,r,n,o,s,f){y.call(this,e,t,i,f),this.className="Service.RPCMethod",this.requestName=r,this.responseName=n,this.requestStream=o,this.responseStream=s,this.resolvedResponseType=this.resolvedRequestType=null},f.prototype=Object.create(y.prototype),o.Service.RPCMethod=f,o}(o),o.Builder=function(t,i,r){function o(e){e.messages&&e.messages.forEach(function(t){t.syntax=e.syntax,o(t)}),e.enums&&e.enums.forEach(function(t){t.syntax=e.syntax})}var s=function(e){this.ptr=this.ns=new r.Namespace(this,null,""),this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},f=s.prototype;return s.isMessage=function(e){return"string"==typeof e.name&&"undefined"==typeof e.values&&"undefined"==typeof e.rpc},s.isMessageField=function(e){return"string"==typeof e.rule&&"string"==typeof e.name&&"string"==typeof e.type&&"undefined"!=typeof e.id},s.isEnum=function(e){return!("string"!=typeof e.name||"undefined"==typeof e.values||!Array.isArray(e.values)||0===e.values.length)},s.isService=function(e){return!("string"!=typeof e.name||"object"!==n(e.rpc)||!e.rpc)},s.isExtend=function(e){return"string"==typeof e.ref},f.reset=function(){return this.ptr=this.ns,this},f.define=function(e){if("string"!=typeof e||!i.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach(function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new r.Namespace(this,this.ptr,e)),this.ptr=t},this),this},f.create=function(e){if(!e)return this;if(Array.isArray(e)){if(0===e.length)return this;e=e.slice()}else e=[e];for(var i=[e];0<i.length;){if(e=i.pop(),!Array.isArray(e))throw Error("not a valid namespace: "+JSON.stringify(e));for(;0<e.length;){var o=e.shift();if(s.isMessage(o)){var f=new r.Message(this,this.ptr,o.name,o.options,o.isGroup,o.syntax),a={};o.oneofs&&Object.keys(o.oneofs).forEach(function(e){f.addChild(a[e]=new r.Message.OneOf(this,f,e))},this),o.fields&&o.fields.forEach(function(e){if(null!==f.getChild(0|e.id))throw Error("duplicate or invalid field id in "+f.name+": "+e.id);if(e.options&&"object"!==n(e.options))throw Error("illegal field options in "+f.name+"#"+e.name);var t=null;if("string"==typeof e.oneof&&!(t=a[e.oneof]))throw Error("illegal oneof in "+f.name+"#"+e.name+": "+e.oneof);e=new r.Message.Field(this,f,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,o.syntax),t&&t.fields.push(e),f.addChild(e)},this);var u=[];if(o.enums&&o.enums.forEach(function(e){u.push(e)}),o.messages&&o.messages.forEach(function(e){u.push(e)}),o.services&&o.services.forEach(function(e){u.push(e)}),o.extensions&&(f.extensions="number"==typeof o.extensions[0]?[o.extensions]:o.extensions),this.ptr.addChild(f),0<u.length){i.push(e),e=u,u=null,this.ptr=f,f=null;continue}u=null}else if(s.isEnum(o))f=new r.Enum(this,this.ptr,o.name,o.options,o.syntax),o.values.forEach(function(e){f.addChild(new r.Enum.Value(this,f,e.name,e.id))},this),this.ptr.addChild(f);else if(s.isService(o))f=new r.Service(this,this.ptr,o.name,o.options),Object.keys(o.rpc).forEach(function(e){var t=o.rpc[e];f.addChild(new r.Service.RPCMethod(this,f,e,t.request,t.response,(!!t.request_stream),(!!t.response_stream),t.options))},this),this.ptr.addChild(f);else{if(!s.isExtend(o))throw Error("not a valid definition: "+JSON.stringify(o));if(f=this.ptr.resolve(o.ref,!0))o.fields.forEach(function(e){if(null!==f.getChild(0|e.id))throw Error("duplicate extended field id in "+f.name+": "+e.id);if(f.extensions){var i=!1;if(f.extensions.forEach(function(t){e.id>=t[0]&&e.id<=t[1]&&(i=!0)}),!i)throw Error("illegal extended field id in "+f.name+": "+e.id+" (not within valid ranges)")}var n=e.name;this.options.convertFieldsToCamelCase&&(n=t.Util.toCamelCase(n));var n=new r.Message.ExtensionField(this,f,e.rule,e.type,this.ptr.fqn()+"."+n,e.id,e.options),o=new r.Extension(this,this.ptr,e.name,n);n.extension=o,this.ptr.addChild(o),f.addChild(n)},this);else if(!/\.?google\.protobuf\./.test(o.ref))throw Error("extended message "+o.ref+" is not defined")}f=o=null}e=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},f["import"]=function(i,r){var s="/";if("string"==typeof r){if(t.Util.IS_NODE&&(r=e("path").resolve(r)),!0===this.files[r])return this.reset();this.files[r]=!0}else if("object"===("undefined"==typeof r?"undefined":n(r))){var f=r.root;if(t.Util.IS_NODE&&(f=e("path").resolve(f)),(0<=f.indexOf("\\")||0<=r.file.indexOf("\\"))&&(s="\\"),f=t.Util.IS_NODE?e("path").join(f,r.file):f+s+r.file,!0===this.files[f])return this.reset();this.files[f]=!0}if(i.imports&&0<i.imports.length){var a=!1;"object"===("undefined"==typeof r?"undefined":n(r))?(this.importRoot=r.root,a=!0,f=this.importRoot,r=r.file,(0<=f.indexOf("\\")||0<=r.indexOf("\\"))&&(s="\\")):"string"==typeof r?this.importRoot?f=this.importRoot:0<=r.indexOf("/")?(f=r.replace(/\/[^\/]*$/,""),""===f&&(f="/")):0<=r.indexOf("\\")?(f=r.replace(/\\[^\\]*$/,""),s="\\"):f=".":f=null;for(var u=0;u<i.imports.length;u++)if("string"==typeof i.imports[u]){if(!f)throw Error("cannot determine import root");var l=i.imports[u];if("google/protobuf/descriptor.proto"!==l&&(l=t.Util.IS_NODE?e("path").join(f,l):f+s+l,!0!==this.files[l])){/\.proto$/i.test(l)&&!t.DotProto&&(l=l.replace(/\.proto$/,".json"));var h=t.Util.fetch(l);if(null===h)throw Error("failed to import '"+l+"' in '"+r+"': file not found");/\.json$/i.test(l)?this["import"](JSON.parse(h+""),l):this["import"](t.DotProto.Parser.parse(h),l)}}else r?/\.(\w+)$/.test(r)?this["import"](i.imports[u],r.replace(/^(.+)\.(\w+)$/,function(e,t,i){return t+"_import"+u+"."+i})):this["import"](i.imports[u],r+"_import"+u):this["import"](i.imports[u]);a&&(this.importRoot=null)}i["package"]&&this.define(i["package"]),i.syntax&&o(i);var d=this.ptr;return i.options&&Object.keys(i.options).forEach(function(e){d.options[e]=i.options[e]}),i.messages&&(this.create(i.messages),this.ptr=d),i.enums&&(this.create(i.enums),this.ptr=d),i.services&&(this.create(i.services),this.ptr=d),i["extends"]&&this.create(i["extends"]),this.reset()},f.resolveAll=function(){var e;if(null==this.ptr||"object"===n(this.ptr.type))return this;if(this.ptr instanceof r.Namespace)this.ptr.children.forEach(function(e){this.ptr=e,this.resolveAll()},this);else if(this.ptr instanceof r.Message.Field){if(i.TYPE.test(this.ptr.type))this.ptr.type=t.TYPES[this.ptr.type];else{if(!i.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(e=(this.ptr instanceof r.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0),!e)throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=e,e instanceof r.Enum){if(this.ptr.type=t.TYPES["enum"],"proto3"===this.ptr.syntax&&"proto3"!==e.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(e instanceof r.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=e.isGroup?t.TYPES.group:t.TYPES.message}}if(this.ptr.map){if(!i.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=t.TYPES[this.ptr.keyType]}"proto3"===this.ptr.syntax&&this.ptr.repeated&&void 0===this.ptr.options.packed&&-1!==t.PACKABLE_WIRE_TYPES.indexOf(this.ptr.type.wireType)&&(this.ptr.options.packed=!0)}else if(this.ptr instanceof t.Reflect.Service.Method){if(!(this.ptr instanceof t.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(e=this.ptr.parent.resolve(this.ptr.requestName,!0),!(e&&e instanceof t.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=e,e=this.ptr.parent.resolve(this.ptr.responseName,!0),!(e&&e instanceof t.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=e}else if(!(this.ptr instanceof t.Reflect.Message.OneOf||this.ptr instanceof t.Reflect.Extension||this.ptr instanceof t.Reflect.Enum.Value))throw Error("illegal object in namespace: "+n(this.ptr)+": "+this.ptr);
return this.reset()},f.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;e="string"==typeof e?e.split("."):e;for(var t=this.result,i=0;i<e.length;i++){if(!t[e[i]]){t=null;break}t=t[e[i]]}return t},f.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},f.toString=function(){return"Builder"},s.Message=function(){},s.Enum=function(){},s.Service=function(){},s}(o,o.Lang,o.Reflect),o.Map=function(e,t){function i(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}var r=function(e,i){if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,(!0),e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,(!1),e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),i)for(var r=Object.keys(i),n=0;n<r.length;n++){var o=this.keyElem.valueFromString(r[n]),s=this.valueElem.verifyValue(i[r[n]]);this.map[this.keyElem.valueToString(o)]={key:o,value:s}}},n=r.prototype;return n.clear=function(){this.map={}},n["delete"]=function(e){e=this.keyElem.valueToString(this.keyElem.verifyValue(e));var t=e in this.map;return delete this.map[e],t},n.entries=function(){for(var e,t=[],r=Object.keys(this.map),n=0;n<r.length;n++)t.push([(e=this.map[r[n]]).key,e.value]);return i(t)},n.keys=function(){for(var e=[],t=Object.keys(this.map),r=0;r<t.length;r++)e.push(this.map[t[r]].key);return i(e)},n.values=function(){for(var e=[],t=Object.keys(this.map),r=0;r<t.length;r++)e.push(this.map[t[r]].value);return i(e)},n.forEach=function(e,t){for(var i,r=Object.keys(this.map),n=0;n<r.length;n++)e.call(t,(i=this.map[r[n]]).value,i.key,this)},n.set=function(e,t){var i=this.keyElem.verifyValue(e),r=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(i)]={key:i,value:r},this},n.get=function(e){if(e=this.keyElem.valueToString(this.keyElem.verifyValue(e)),e in this.map)return this.map[e].value},n.has=function(e){return this.keyElem.valueToString(this.keyElem.verifyValue(e))in this.map},r}(o,o.Reflect),o.newBuilder=function(e){return e=e||{},"undefined"==typeof e.convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=o.convertFieldsToCamelCase),"undefined"==typeof e.populateAccessors&&(e.populateAccessors=o.populateAccessors),new o.Builder(e)},o.loadJson=function(e,t,i){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(i=t,t=null),t&&"object"===("undefined"==typeof t?"undefined":n(t))||(t=o.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),t["import"](e,i),t.resolveAll(),t},o.loadJsonFile=function(e,t,i){if(t&&"object"===("undefined"==typeof t?"undefined":n(t))?(i=t,t=null):t&&"function"==typeof t||(t=null),t)return o.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(r){if(null===r)t(Error("Failed to fetch file"));else try{t(null,o.loadJson(JSON.parse(r),i,e))}catch(n){t(n)}});var r=o.Util.fetch("object"===("undefined"==typeof e?"undefined":n(e))?e.root+"/"+e.file:e);return null===r?null:o.loadJson(JSON.parse(r),i,e)},o})}).call(this,e("qC859L"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{bytebuffer:2,fs:1,path:1,qC859L:4}],6:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(){console.log("Q:",I);var e=h({},S,{timestamp:Math.floor(Date.now()/1e3),auctions:I.map(function(e){return new m(e)})}),t=new b(e).toArrayBuffer();(0,p.ajax)(w,t,function(e){return console.log("Sent Prebid Analytics:",e)}),L=L.concat(I),I=[]}function o(e){var t=e.eventType;switch(t){case"auctionInit":s.apply(void 0,arguments);break;case"bidRequested":f.apply(void 0,arguments);break;case"bidResponse":a.apply(void 0,arguments);break;case"bidWon":u.apply(void 0,arguments);break;case"bidTimeout":l.apply(void 0,arguments)}}function s(e){var t=e.data;S={referer_url:document.referrer,seller_member_id:t.config?t.config.memberId:void 0},I.push({prebid_auction_id:t.requestId,configured_timeout_ms:t.timeout})}function f(e){var t=e.data;I.push({prebid_auction_id:t.requestId,ad_units:t.bids.map(function(e){return{ad_unit_code:e.placementCode,bids:[{bid_id:e.bidId,bidder_code:e.bidder,request_timestamp:t.start}]}})})}function a(e){var t=e.data,i={prebid_auction_id:t.requestId,ad_units:[{ad_unit_code:t.adUnitCode,bids:[{bid_id:t.adId,bidder_code:t.bidder,price:t.cpm,bidder_ad_unit_id:t.adUnitCode,request_timestamp:t.requestTimestamp,response_timestamp:t.responseTimestamp,creative:{creative_id:t.creative_id&&String(t.creative_id),height:+t.height,width:+t.width,brand:t.brand}}]}]};0===t.cpm&&(i.ad_units[0].bids[0].status_code=T.NO_BID),I.push(i)}function u(e){var t=e.data;I.push({prebid_auction_id:t.requestId,ad_units:[{ad_unit_code:t.adUnitCode,bids:[{bid_id:t.adId,bidder_code:t.bidder,price:t.cpm,status_code:10}]}]}),I=I.concat(pbjs._bidsReceived.filter(function(e){return e!==t&&e.adUnitCode===t.adUnitCode}).map(function(e){return{prebid_auction_id:e.requestId,ad_units:[{ad_unit_code:e.adUnitCode,bids:[{bid_id:e.adId,bidder_code:e.bidder,status_code:11}]}]}}))}function l(e){var t=e.data;I=I.concat(pbjs._bidsRequested.map(function(e){return e.bids.filter(function(e){return t.includes(e.bidder)})}).reduce(function(e,t){return e.concat(t)}).map(function(e){return{prebid_auction_id:e.requestId,ad_units:[{ad_unit_code:e.adUnitCode,bids:[{bid_id:e.bidId,bidder_code:e.bidder,status_code:13}]}]}}))}var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},d=e("../node_modules/protobufjs/dist/protobuf-light.min.js"),c=r(d),p=e("./utils"),g=e("./log-prebid-events.json"),y=c["default"].loadJson(g),b=y.build("LogPrebidEvents"),m=b.Auction,w="https://rb.adnxs.com/pack?log=log_prebid_events&format=protobuf",v=100,E=(0,p.debounce)(n,v),T={NO_BID:12},S={},I=[],L=[];window.AppNexusPrebidAnalytics=function(e,t,i){o({eventType:t,data:i}),E()}},{"../node_modules/protobufjs/dist/protobuf-light.min.js":5,"./log-prebid-events.json":7,"./utils":8}],7:[function(e,t,i){t.exports={"package":null,messages:[{name:"LogPrebidEvents",fields:[{rule:"optional",type:"fixed64",name:"timestamp",id:1},{rule:"optional",type:"string",name:"remote_addr_macro",id:2},{rule:"optional",type:"string",name:"user_agent_macro",id:3},{rule:"optional",type:"string",name:"referer_url",id:4},{rule:"optional",type:"uint32",name:"seller_member_id",id:5},{rule:"repeated",type:"Auction",name:"auctions",id:6}],messages:[{name:"Auction",fields:[{rule:"optional",type:"string",name:"version",id:1},{rule:"optional",type:"fixed64",name:"auction_init_timestamp",id:2},{rule:"optional",type:"string",name:"prebid_auction_id",id:3},{rule:"optional",type:"uint32",name:"configured_timeout_ms",id:4},{rule:"repeated",type:"AdUnit",name:"ad_units",id:5}],messages:[{name:"AdUnit",fields:[{rule:"optional",type:"string",name:"ad_unit_code",id:1},{rule:"repeated",type:"Bid",name:"bids",id:2}],messages:[{name:"Bid",fields:[{rule:"optional",type:"string",name:"bid_id",id:1},{rule:"optional",type:"double",name:"price",id:2},{rule:"optional",type:"string",name:"bidder_code",id:3},{rule:"optional",type:"string",name:"bidder_ad_unit_id",id:4},{rule:"optional",type:"fixed64",name:"request_timestamp",id:5},{rule:"optional",type:"fixed64",name:"response_timestamp",id:6},{rule:"optional",type:"uint32",name:"status_code",id:7},{rule:"optional",type:"Creative",name:"creative",id:8}],messages:[{name:"Creative",fields:[{rule:"optional",type:"string",name:"creative_id",id:1},{rule:"optional",type:"uint32",name:"width",id:2},{rule:"optional",type:"uint32",name:"height",id:3},{rule:"optional",type:"string",name:"brand",id:4}]}]}]}]}]}]}},{}],8:[function(e,t,i){"use strict";function r(e,t,i){var r;return function(){var n=this,o=arguments,s=function(){r=null,i||e.apply(n,o)},f=i&&!r;clearTimeout(r),r=setTimeout(s,t),f&&e.apply(n,o)}}function n(e,t,i){try{var r=void 0;window.XMLHttpRequest?r=new window.XMLHttpRequest:window.ActiveXObject&&(r=new window.ActiveXObject("MSXML2.XMLHTTP.3.0")),r.open(t?"POST":"GET",e,!0),r.setRequestHeader("Content-Type","text/plain;charset=utf8"),r.onreadystatechange=function(){r.readyState>3&&i&&i(r)},r.send(t)}catch(n){console.log(n)}}Object.defineProperty(i,"__esModule",{value:!0}),i.debounce=r,i.ajax=n},{}]},{},[6]);